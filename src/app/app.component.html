<div class="container">

  <div *ngIf="identity" class="navigation">
    <h1>
      {{title}}
    </h1>

    <nav id="navigation">
      <a href="#">Buscar</a>
      <a href="#">Artistas</a>
      <a href="#">Albums</a>
    </nav>

    <!--inicio de navegacion-->
    <nav>
      <span id="user-name">{{identity.name}}</span>
      <span class="btn btn-danger" (click)="logOut()">
        Cerrar Sesión
      </span>
      <span>
        <a routerLink="/misDatos">Mis datos</a>
      </span>
    </nav>
    <!--fin navegación-->
    <router-outlet></router-outlet>
  </div>

  <div *ngIf="identity" class="central col-lg-11">
    <p>Estas logueado en la aplicación</p>
  </div>

  <div *ngIf="!identity" class="row">
    <div class="col-lg-6">
      <h1>Logeate!</h1>
      <form ngNativeValidate (ngSubmit)="onSubmit()" #loginForm="ngForm" class="col-md-10">
        <p>
          <label for="email">Correo Electronico: </label>
          <input #email="ngModel" [(ngModel)]="user.email" type="email" name="email" class="form-control" required/>
          <!--alert de validación-->
          <span [hidden]="email.valid || email.pristine" class="form-control alert alert-danger">
            Email es requerido
          </span>
        </p>
        <p>
          <label for="password">Contraseña: </label>
          <input #password="ngModel" [(ngModel)]="user.password" type="password" name="password" class="form-control" required/>
          <!--alert de validación-->
          <span [hidden]="password.valid || password.pristine" class="form-control alert alert-danger">
            Contraseña es requerida
          </span>
        </p>
        <input type="submit" class="btn btn-success" [disabled]="!loginForm.form.valid" value="Entrar">
      </form>
    </div>

    <div class="col-lg-6">    
      <h1>Registrate</h1>
      <form ngNativeValidate (ngSubmit)="registrar()" #registerForm="ngForm" class="col-md-10">
        <p>
          <label for="name">Nombre: </label>
          <input #name="ngModel" [(ngModel)]="user_registro.name" type="text" name="name" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="name.valid || name.pristine" class="form-control alert alert-danger">
            Nombre es requerido
          </span>
        </p>
        <p>
          <label for="surname">Apellidos: </label>
          <input #surname="ngModel" [(ngModel)]="user_registro.surname" type="text" name="surname" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="surname.valid || surname.pristine" class="form-control alert alert-danger">
            Apellidos es requerido
          </span>
        </p>
        <p>
          <label for="email">Correo Electronico: </label>
          <input #email="ngModel" [(ngModel)]="user_registro.email" type="email" name="email" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="email.valid || email.pristine" class="form-control alert alert-danger">
            Email es requerido
          </span>
        </p>
        <p>
          <label for="password">Contraseña: </label>
          <input #password="ngModel" [(ngModel)]="user_registro.password" type="password" name="password" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="password.valid || password.pristine" class="form-control alert alert-danger">
            Contraseña es requerido
          </span>
        </p>
        <input type="submit" class="btn btn-success" [disabled]="!registerForm.form.valid" value="Registrar">
      </form>
    </div>
  </div>

</div> 