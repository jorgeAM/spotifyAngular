<div class="container">

  <div *ngIf="identity" class="navigation">
    <h1>
      {{title}}
    </h1>

    <nav>
      <ul class="nav justify-content-end">
        <li class="nav-item">
          <a class="nav-link active" href="#">Buscar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/artistas" routerLinkActive="activo">Artistas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Albums</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img id="avatar" src="{{this.userService.userUrl + '/get-avatar/' + identity.image}}" style="width: 50px; border-radius: 50%;" />
            {{identity.name}}
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" routerLink="/misDatos">Mis datos</a>
            <span class="dropdown-item" (click)="logOut()">Cerrar Sesión</span>
          </div>
        </li>

      </ul>
    </nav>

    <router-outlet></router-outlet>
    <div class="clearfix"></div>
    <player class="player"></player>
  </div>

  <div *ngIf="!identity" class="row">
    <div class="col-lg-6">
      <h1>Logeate!</h1>
      <form ngNativeValidate (ngSubmit)="onSubmit()" #loginForm="ngForm" class="col-md-10">
        <p>
          <label for="email">Correo Electronico: </label>
          <input #email="ngModel" [(ngModel)]="user.email" type="email" name="email" class="form-control" required/>
          <!--alert de validación-->
          <span [hidden]="email.valid || email.pristine" class="form-control alert alert-danger">
            Email es requerido
          </span>
        </p>
        <p>
          <label for="password">Contraseña: </label>
          <input #password="ngModel" [(ngModel)]="user.password" type="password" name="password" class="form-control" required/>
          <!--alert de validación-->
          <span [hidden]="password.valid || password.pristine" class="form-control alert alert-danger">
            Contraseña es requerida
          </span>
        </p>
        <input type="submit" class="btn btn-success" [disabled]="!loginForm.form.valid" value="Entrar">
      </form>
    </div>

    <div class="col-lg-6">    
      <h1>Registrate</h1>
      <form ngNativeValidate (ngSubmit)="registrar()" #registerForm="ngForm" class="col-md-10">
        <p>
          <label for="name">Nombre: </label>
          <input #name="ngModel" [(ngModel)]="user_registro.name" type="text" name="name" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="name.valid || name.pristine" class="form-control alert alert-danger">
            Nombre es requerido
          </span>
        </p>
        <p>
          <label for="surname">Apellidos: </label>
          <input #surname="ngModel" [(ngModel)]="user_registro.surname" type="text" name="surname" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="surname.valid || surname.pristine" class="form-control alert alert-danger">
            Apellidos es requerido
          </span>
        </p>
        <p>
          <label for="email">Correo Electronico: </label>
          <input #email="ngModel" [(ngModel)]="user_registro.email" type="email" name="email" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="email.valid || email.pristine" class="form-control alert alert-danger">
            Email es requerido
          </span>
        </p>
        <p>
          <label for="password">Contraseña: </label>
          <input #password="ngModel" [(ngModel)]="user_registro.password" type="password" name="password" class="form-control" required>
          <!--alert de validación-->
          <span [hidden]="password.valid || password.pristine" class="form-control alert alert-danger">
            Contraseña es requerido
          </span>
        </p>
        <input type="submit" class="btn btn-success" [disabled]="!registerForm.form.valid" value="Registrar">
      </form>
    </div>
  </div>

</div> 